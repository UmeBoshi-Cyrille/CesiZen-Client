<form [formGroup]="createForm" (ngSubmit)="onSubmit()" class="category-form">
    <h1 class="h1-form-title">Nouvelle Catégorie</h1>
    <mat-form-field appearance="fill" class="full-width">
        <mat-label>Nom</mat-label>
        <input matInput formControlName="name" required>
    </mat-form-field>

    <div class="file-input-group">
        <label for="category-image" class="file-label">Image de la catégorie</label>
        <input id="category-image"
               type="file"
               accept="image/*"
               (change)="onFileSelected($event)"
               class="file-input"
        />
    </div>

    <div *ngIf="selectedImage?.url" class="image-preview">
        <img [src]="selectedImage!.url" alt="Aperçu"/>
        <button mat-button color="warn" type="button" (click)="removeSelectedImage()">Supprimer l'image</button>
    </div>

    <mat-form-field appearance="fill" class="full-width">
        <mat-label>Texte alternatif</mat-label>
        <input matInput formControlName="alternative" required>
    </mat-form-field>

    <mat-dialog-actions class="actions">
        <button mat-button type="button" (click)="onCancel()">Annuler</button>
        <button mat-flat-button
                color="primary"
                type="submit"
                class="create-btn"
                [disabled]="createForm.invalid || !selectedImage?.file">
            Créer
        </button>
    </mat-dialog-actions>
</form>
